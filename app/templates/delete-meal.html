{% extends "base.html" %}
{% block styles %} <link rel = "stylesheet" href = "static/css/delete.css">{% endblock %}
{% block content %}
<meta charset="UTF-8">
<title>Delete Meal</title>
<title>Delete Meal Test Page</title>
<script>
  function filterMeals() {
    const filter = document.getElementById("filterInput").value.toLowerCase();
    const options = document.getElementById("meal").options;
    for (let i = 0; i < options.length; i++) {
      const text = options[i].text.toLowerCase();
      options[i].style.display = text.includes(filter) ? "" : "none";
    }
  }
</script>
<img src="static/images/UFuellogo.png" alt="UFuel Logo" width="150"
  class="logo">
<div class = "delete">
<h1>Delete Meal</h1>

{% if message %}
  <p>{{ message }}</p>
{% endif %}

<form action="/delete-meal" method="post">
  <p>
    <label for="filterInput">Filter Meals:</label><br>
    <input type="text" id="filterInput" onkeyup="filterMeals()" placeholder="Type to search (e.g. 'chicken', 'glen')">
  </p>

  <p>
    <label for="meal">Select Meal:</label><br>
    <select name="meal" id="meal" required size="10" style="width: 300px;">
      <option value="">-- Select a Meal --</option>
      {% for name, location in meals %}
      <option value="{{ name }}|{{ location }}">{{ name }} ({{ location }})</option>
      {% endfor %}
    </select>
  </p>

  <button type="submit">Delete Meal</button>
</form>
</div>
{% endblock %}
